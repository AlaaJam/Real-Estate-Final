{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC 26\\\\Desktop\\\\final-final\\\\Real-Estate-Website-main-main\\\\frontend\\\\src\\\\pages\\\\admin-lisitng.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { HeaderContainer, DashboardContainer, FooterContainer } from \"../containers\";\nimport { Section } from \"../components\";\nimport { api } from \"../helpers/api\"; // must send cookies (credentials: \"include\")\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst grid = {\n  display: \"grid\",\n  gridTemplateColumns: \"repeat(auto-fill, minmax(260px, 1fr))\",\n  gap: 16\n};\nconst card = {\n  border: \"1px solid #e5e7eb\",\n  borderRadius: 12,\n  padding: 12,\n  background: \"#fff\"\n};\nconst imgS = {\n  width: \"100%\",\n  height: 160,\n  objectFit: \"cover\",\n  borderRadius: 8\n};\nconst meta = {\n  color: \"#6b7280\",\n  fontSize: 14,\n  marginTop: 4\n};\nconst priceS = {\n  marginTop: 8,\n  fontWeight: 700\n};\nconst fmtCurrency = (n, {\n  currency = \"JOD\",\n  locale = \"en-US\"\n} = {}) => n == null || n === \"\" ? \"\" : `${currency} ${Number(n).toLocaleString(locale)}`;\nconst AdminListingList = () => {\n  _s();\n  const [rows, setRows] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [err, setErr] = useState(\"\");\n  useEffect(() => {\n    let alive = true;\n    (async () => {\n      try {\n        setLoading(true);\n        const data = await api(\"/api/properties/mine/list\"); // backend uses JWT cookie to identify the user\n        if (alive) setRows(data || []);\n      } catch (e) {\n        if (alive) setErr(e.message || \"Failed to load\");\n      } finally {\n        if (alive) setLoading(false);\n      }\n    })();\n    return () => {\n      alive = false;\n    };\n  }, []);\n  const Content = () => {\n    if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading your listings\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 25\n    }, this);\n    if (err) {\n      // 401 here means user isn’t logged in or cookies weren’t sent\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"#b91c1c\"\n        },\n        children: String(err)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 14\n      }, this);\n    }\n    if (!rows.length) return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"You don\\u2019t have any listings yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 30\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: grid,\n      children: rows.map(p => {\n        const src = p.imageUrl || (Array.isArray(p.images) && p.images[0] ? `/images/houses/${p.images[0]}` : \"\");\n        const loc = p.location || [p.city, p.state].filter(Boolean).join(\", \");\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: card,\n          children: [src ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: src,\n            alt: p.title,\n            style: imgS\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 22\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              ...imgS,\n              background: \"#f3f4f6\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 69\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: \"10px 0 4px\"\n            },\n            children: p.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: meta,\n            children: loc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: priceS,\n            children: fmtCurrency(p.price)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `/property/${p.id}`,\n            style: {\n              display: \"inline-block\",\n              marginTop: 10,\n              color: \"#2563eb\"\n            },\n            children: \"View\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this)]\n        }, p.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(HeaderContainer, {\n      bg: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Section, {\n      bgColor: \"--bs-fade-info\",\n      children: /*#__PURE__*/_jsxDEV(Section.InnerContainer, {\n        children: /*#__PURE__*/_jsxDEV(DashboardContainer, {\n          title: \"My Listings\",\n          children: /*#__PURE__*/_jsxDEV(Content, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FooterContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(AdminListingList, \"mPa83PYkcRFfB8UYPkPJmpGPu8o=\");\n_c = AdminListingList;\nexport default AdminListingList;\nvar _c;\n$RefreshReg$(_c, \"AdminListingList\");","map":{"version":3,"names":["React","useEffect","useState","HeaderContainer","DashboardContainer","FooterContainer","Section","api","jsxDEV","_jsxDEV","Fragment","_Fragment","grid","display","gridTemplateColumns","gap","card","border","borderRadius","padding","background","imgS","width","height","objectFit","meta","color","fontSize","marginTop","priceS","fontWeight","fmtCurrency","n","currency","locale","Number","toLocaleString","AdminListingList","_s","rows","setRows","loading","setLoading","err","setErr","alive","data","e","message","Content","children","fileName","_jsxFileName","lineNumber","columnNumber","style","String","length","map","p","src","imageUrl","Array","isArray","images","loc","location","city","state","filter","Boolean","join","alt","title","margin","price","href","id","bg","bgColor","InnerContainer","_c","$RefreshReg$"],"sources":["C:/Users/PC 26/Desktop/final-final/Real-Estate-Website-main-main/frontend/src/pages/admin-lisitng.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { HeaderContainer, DashboardContainer, FooterContainer } from \"../containers\";\nimport { Section } from \"../components\";\nimport { api } from \"../helpers/api\"; // must send cookies (credentials: \"include\")\n\nconst grid = { display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, minmax(260px, 1fr))\", gap: 16 };\nconst card = { border: \"1px solid #e5e7eb\", borderRadius: 12, padding: 12, background: \"#fff\" };\nconst imgS = { width: \"100%\", height: 160, objectFit: \"cover\", borderRadius: 8 };\nconst meta = { color: \"#6b7280\", fontSize: 14, marginTop: 4 };\nconst priceS = { marginTop: 8, fontWeight: 700 };\n\nconst fmtCurrency = (n, { currency = \"JOD\", locale = \"en-US\" } = {}) =>\n  n == null || n === \"\" ? \"\" : `${currency} ${Number(n).toLocaleString(locale)}`;\n\nconst AdminListingList = () => {\n  const [rows, setRows] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [err, setErr] = useState(\"\");\n\n  useEffect(() => {\n    let alive = true;\n    (async () => {\n      try {\n        setLoading(true);\n        const data = await api(\"/api/properties/mine/list\"); // backend uses JWT cookie to identify the user\n        if (alive) setRows(data || []);\n      } catch (e) {\n        if (alive) setErr(e.message || \"Failed to load\");\n      } finally {\n        if (alive) setLoading(false);\n      }\n    })();\n    return () => { alive = false; };\n  }, []);\n\n  const Content = () => {\n    if (loading) return <div>Loading your listings…</div>;\n    if (err) {\n      // 401 here means user isn’t logged in or cookies weren’t sent\n      return <div style={{ color: \"#b91c1c\" }}>{String(err)}</div>;\n    }\n    if (!rows.length) return <div>You don’t have any listings yet.</div>;\n\n    return (\n      <div style={grid}>\n        {rows.map((p) => {\n          const src =\n            p.imageUrl ||\n            (Array.isArray(p.images) && p.images[0] ? `/images/houses/${p.images[0]}` : \"\");\n          const loc = p.location || [p.city, p.state].filter(Boolean).join(\", \");\n          return (\n            <div key={p.id} style={card}>\n              {src ? <img src={src} alt={p.title} style={imgS} /> : <div style={{ ...imgS, background: \"#f3f4f6\" }} />}\n              <h3 style={{ margin: \"10px 0 4px\" }}>{p.title}</h3>\n              <div style={meta}>{loc}</div>\n              <div style={priceS}>{fmtCurrency(p.price)}</div>\n              <a href={`/property/${p.id}`} style={{ display: \"inline-block\", marginTop: 10, color: \"#2563eb\" }}>\n                View\n              </a>\n            </div>\n          );\n        })}\n      </div>\n    );\n  };\n\n  return (\n    <>\n      <HeaderContainer bg={false} />\n      <Section bgColor=\"--bs-fade-info\">\n        <Section.InnerContainer>\n          <DashboardContainer title=\"My Listings\">\n            <Content />\n          </DashboardContainer>\n        </Section.InnerContainer>\n      </Section>\n      <FooterContainer />\n    </>\n  );\n};\n\nexport default AdminListingList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}